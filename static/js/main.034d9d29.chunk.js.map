{"version":3,"sources":["utils/config.js","store/postSlice.js","store/userSlice.js","components/Form/Form.js","components/Card/Card.js","components/NoPosts/NoPosts.js","components/Cards/Cards.js","components/Footer/Footer.js","components/App/App.js","store/store.js","index.js"],"names":["API","getPosts","createAsyncThunk","_","a","rejectWithValue","fetch","method","headers","response","ok","Error","json","posts","message","postSlice","createSlice","name","initialState","fullPosts","filteredPosts","postsStatus","postsError","reducers","initialPosts","state","concatArr","action","newPosts","map","post","Object","assign","payload","find","user","Number","userId","id","searchAuthor","filter","toLowerCase","replace","includes","extraReducers","pending","fulfilled","rejected","actions","getUsers","users","userSlice","usersStatus","usersError","Form","dispatch","useDispatch","useState","value","setValue","className","onSubmit","e","preventDefault","type","width","height","viewBox","fill","xmlns","fillRule","d","onChange","target","placeholder","Card","card","title","body","NoPosts","Cards","useSelector","length","index","Footer","App","useEffect","configureStore","reducer","userReduser","postReduser","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.034d9d29.chunk.js","sourcesContent":["export const API = `https://jsonplaceholder.typicode.com`;\nexport const PATH_POSTS = `/posts`;\nexport const PATH_USERS = `/users`;\nexport const LIMIT = `/?_limit=50`;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { LIMIT, API, PATH_POSTS } from \"../utils/config\";\n\nexport const getPosts = createAsyncThunk(\n  \"post/getPosts\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(API + PATH_POSTS + LIMIT, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const posts = await response.json();\n      return posts;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst initialState = {\n  posts: [],\n  fullPosts: [],\n  filteredPosts: [],\n  postsStatus: null,\n  postsError: null,\n};\n\nexport const postSlice = createSlice({\n  name: \"post\",\n  initialState,\n  reducers: {\n    initialPosts(state) {\n      state.filteredPosts = state.fullPosts;\n    },\n    concatArr(state, action) {\n      const newPosts = state.posts.map((post) =>\n        Object.assign(\n          post,\n          action.payload.find((user) => Number(post.userId) === Number(user.id))\n        )\n      );\n      state.fullPosts = newPosts;\n    },\n    searchAuthor(state, action) {\n      let filteredPosts = [];\n      filteredPosts = state.fullPosts.filter((post) =>\n        post.name\n          .toLowerCase()\n          .replace(/[.,!?%]/g, \"\")\n          .includes(action.payload.toLowerCase())\n      );\n      state.filteredPosts = filteredPosts;\n    },\n  },\n  extraReducers: {\n    [getPosts.pending]: (state) => {\n      state.postsStatus = \"loading\";\n      state.postsError = null;\n    },\n    [getPosts.fulfilled]: (state, action) => {\n      state.postsStatus = \"resolved\";\n      state.posts = action.payload;\n    },\n    [getPosts.rejected]: (state, action) => {\n      state.postsStatus = \"rejected\";\n      state.postsError = action.payload;\n    },\n  },\n});\n\nexport const { concatArr, searchAuthor, initialPosts } = postSlice.actions;\n\nexport default postSlice.reducer;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { API, PATH_USERS } from \"../utils/config\";\n\nexport const getUsers = createAsyncThunk(\n  \"user/getUsers\",\n  async function (_, { rejectWithValue }) {\n    try {\n      const response = await fetch(API + PATH_USERS, {\n        method: \"GET\",\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n      });\n      if (!response.ok) {\n        throw new Error(\"SERVER ERROR!\");\n      }\n      const users = await response.json();\n      return users;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst initialState = {\n  users: [],\n  usersStatus: null,\n  usersError: null,\n};\n\nexport const userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n  },\n  extraReducers: {\n    [getUsers.pending]: (state) => {\n      state.usersStatus = \"loading\";\n      state.usersError = null;\n    },\n    [getUsers.fulfilled]: (state, action) => {\n      state.usersStatus = \"resolved\";\n      state.users = action.payload;\n    },\n    [getUsers.rejected]: (state, action) => {\n      state.usersStatus = \"rejected\";\n      state.usersError = action.payload;\n    },\n  },\n});\n\nexport const { } = userSlice.actions;\n\nexport default userSlice.reducer;\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { searchAuthor } from \"../../store/postSlice\";\nimport \"./Form.scss\";\n\nconst Form = () => {\n  const dispatch = useDispatch();\n  const [value, setValue] = useState(\"\");\n\n  const handleChange = (e) => {\n    setValue(e.target.value);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(searchAuthor(value));\n  }\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <div className=\"input-group mb-3\">\n        <div className=\"input-group-prepend\">\n          <button type=\"submit\" className=\"input-group-text\" id=\"basic-addon1\">\n            <svg\n              width=\"1em\"\n              height=\"1em\"\n              viewBox=\"0 0 16 16\"\n              className=\"bi bi-search\"\n              fill=\"currentColor\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\"\n              />\n              <path\n                fillRule=\"evenodd\"\n                d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\"\n              />\n            </svg>\n          </button>\n        </div>\n        <input\n          type=\"text\"\n          name=\"search\"\n          value={value}\n          onChange={handleChange}\n          className=\"form-control\"\n          placeholder=\"Поиск автора\"\n          aria-label=\"Поиск автора\"\n          aria-describedby=\"basic-addon1\"\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import \"./Card.scss\";\n\nconst Card = ({ card }) => {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title card__title\">{card.title}</h5>\n        <p className=\"card-text\">{card.body}</p>\n        <p className=\"card-text\">{card.name}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import \"./NoPosts.scss\";\n\nconst NoPosts = () => {\n  return (\n    <div className=\"noposts\">\n        <p className=\"card-title card__title\">No Posts</p>\n    </div>\n  );\n};\n\nexport default NoPosts;\n","import { useSelector } from \"react-redux\";\nimport Card from \"../Card/Card\";\nimport NoPosts from \"../NoPosts/NoPosts\";\nimport \"./Cards.scss\";\n\nconst Cards = () => {\n  const { filteredPosts } = useSelector((state) => state.post);\n\n\n  if(filteredPosts.length === 0) {\n    return <NoPosts />;\n  }\n  return (\n    <section className=\"cards\">\n      {filteredPosts.map((card, index) => {\n        return <Card key={index} card={card} />;\n      })}\n    </section>\n  );\n};\n\nexport default Cards;\n","import \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div className=\"footer\">\n        <p className=\"card-text\">@ Voodoo Test Project by Pavel Khokhlov</p>\n    </div>\n  );\n};\n\nexport default Footer;\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { concatArr, getPosts, initialPosts } from \"../../store/postSlice\";\nimport { getUsers } from \"../../store/userSlice\";\nimport Form from \"../Form/Form\";\nimport Cards from \"../Cards/Cards\";\nimport Footer from \"../Footer/Footer\";\nimport \"./App.scss\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const { postsStatus } = useSelector((state) => state.post);\n  const { users, usersStatus } = useSelector((state) => state.user);\n\n  useEffect(() => {\n    dispatch(getPosts());\n    dispatch(getUsers());\n  }, []);\n\n  useEffect(() => {\n    if(postsStatus === `resolved` && usersStatus === `resolved`) {\n      dispatch(concatArr(users));\n      dispatch(initialPosts());\n    }\n  }, [postsStatus, usersStatus])\n\n  return (\n    <section className=\"app\">\n      <Form />\n      <Cards />\n      <Footer />\n    </section>\n  );\n};\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userReduser from \"./userSlice\";\nimport postReduser from \"./postSlice\";\n\nexport default configureStore({\n  reducer: {\n    user: userReduser,\n    post: postReduser,\n  },\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App/App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
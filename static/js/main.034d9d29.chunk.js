(this["webpackJsonpvoodoo-react"]=this["webpackJsonpvoodoo-react"]||[]).push([[0],{17:function(e,t,r){},25:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){},30:function(e,t,r){},31:function(e,t,r){},32:function(e,t,r){"use strict";r.r(t);var s,n,c=r(0),a=r.n(c),o=r(6),u=r.n(o),i=(r(17),r(2)),l=r(3),d=r(5),j=r.n(d),p=r(7),b=r(4),f="https://jsonplaceholder.typicode.com",h=Object(b.b)("post/getPosts",function(){var e=Object(p.a)(j.a.mark((function e(t,r){var s,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.rejectWithValue,e.prev=1,e.next=4,fetch(f+"/posts/?_limit=50",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("SERVER ERROR!");case 7:return e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}()),O=Object(b.c)({name:"post",initialState:{posts:[],fullPosts:[],filteredPosts:[],postsStatus:null,postsError:null},reducers:{initialPosts:function(e){e.filteredPosts=e.fullPosts},concatArr:function(e,t){var r=e.posts.map((function(e){return Object.assign(e,t.payload.find((function(t){return Number(e.userId)===Number(t.id)})))}));e.fullPosts=r},searchAuthor:function(e,t){var r;r=e.fullPosts.filter((function(e){return e.name.toLowerCase().replace(/[.,!?%]/g,"").includes(t.payload.toLowerCase())})),e.filteredPosts=r}},extraReducers:(s={},Object(l.a)(s,h.pending,(function(e){e.postsStatus="loading",e.postsError=null})),Object(l.a)(s,h.fulfilled,(function(e,t){e.postsStatus="resolved",e.posts=t.payload})),Object(l.a)(s,h.rejected,(function(e,t){e.postsStatus="rejected",e.postsError=t.payload})),s)}),m=O.actions,x=m.concatArr,v=m.searchAuthor,g=m.initialPosts,N=O.reducer,E=r(11),w=Object(b.b)("user/getUsers",function(){var e=Object(p.a)(j.a.mark((function e(t,r){var s,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.rejectWithValue,e.prev=1,e.next=4,fetch(f+"/users",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("SERVER ERROR!");case 7:return e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",s(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}()),y=Object(b.c)({name:"user",initialState:{users:[],usersStatus:null,usersError:null},reducers:{},extraReducers:(n={},Object(l.a)(n,w.pending,(function(e){e.usersStatus="loading",e.usersError=null})),Object(l.a)(n,w.fulfilled,(function(e,t){e.usersStatus="resolved",e.users=t.payload})),Object(l.a)(n,w.rejected,(function(e,t){e.usersStatus="rejected",e.usersError=t.payload})),n)});Object(E.a)(y.actions);var S=y.reducer,P=r(12),R=(r(25),r(1)),k=function(){var e=Object(i.b)(),t=Object(c.useState)(""),r=Object(P.a)(t,2),s=r[0],n=r[1];return Object(R.jsx)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e(v(s))},children:Object(R.jsxs)("div",{className:"input-group mb-3",children:[Object(R.jsx)("div",{className:"input-group-prepend",children:Object(R.jsx)("button",{type:"submit",className:"input-group-text",id:"basic-addon1",children:Object(R.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(R.jsx)("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),Object(R.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})]})})}),Object(R.jsx)("input",{type:"text",name:"search",value:s,onChange:function(e){n(e.target.value)},className:"form-control",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0430\u0432\u0442\u043e\u0440\u0430","aria-label":"\u041f\u043e\u0438\u0441\u043a \u0430\u0432\u0442\u043e\u0440\u0430","aria-describedby":"basic-addon1"})]})})},C=(r(27),function(e){var t=e.card;return Object(R.jsx)("div",{className:"card",children:Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h5",{className:"card-title card__title",children:t.title}),Object(R.jsx)("p",{className:"card-text",children:t.body}),Object(R.jsx)("p",{className:"card-text",children:t.name})]})})}),T=(r(28),function(){return Object(R.jsx)("div",{className:"noposts",children:Object(R.jsx)("p",{className:"card-title card__title",children:"No Posts"})})}),V=(r(29),function(){var e=Object(i.c)((function(e){return e.post})).filteredPosts;return 0===e.length?Object(R.jsx)(T,{}):Object(R.jsx)("section",{className:"cards",children:e.map((function(e,t){return Object(R.jsx)(C,{card:e},t)}))})}),_=(r(30),function(){return Object(R.jsx)("div",{className:"footer",children:Object(R.jsx)("p",{className:"card-text",children:"@ Voodoo Test Project by Pavel Khokhlov"})})}),A=(r(31),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.post})).postsStatus,r=Object(i.c)((function(e){return e.user})),s=r.users,n=r.usersStatus;return Object(c.useEffect)((function(){e(h()),e(w())}),[]),Object(c.useEffect)((function(){"resolved"===t&&"resolved"===n&&(e(x(s)),e(g()))}),[t,n]),Object(R.jsxs)("section",{className:"app",children:[Object(R.jsx)(k,{}),Object(R.jsx)(V,{}),Object(R.jsx)(_,{})]})}),M=Object(b.a)({reducer:{user:S,post:N}});u.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(i.a,{store:M,children:Object(R.jsx)(A,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.034d9d29.chunk.js.map